var Be=Object.defineProperty,je=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ue=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var ue=(e,a,s)=>a in e?Be(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,W=(e,a)=>{for(var s in a||(a={}))Ue.call(a,s)&&ue(e,s,a[s]);if(ce)for(var s of ce(a))Le.call(a,s)&&ue(e,s,a[s]);return e},X=(e,a)=>je(e,Qe(a));import{d as T,r as w,a as N,w as $,l as ve,c as x,b as n,e as he,f as Te,u as Ve,g as de,h as Ge,i as ze,j as h,k as O,o as me,m as Ne,n as Oe,p as Fe,q as Ye,s as D,t as se,v as Pe,x as $e,y as Je,F as Ze,z as le,A as ye,B as We,C as Xe,D as G,E as H,R as He,G as te,H as Ae,I as Ke,T as ge,J as ae,K as qe,L as et,M as tt,N as at}from"./vendor.256b4999.js";const nt=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}};nt();!location.hostname.endsWith("localhost")&&!location.hostname.endsWith("gitee.io")&&(location.href="//davatar.gitee.io"),we();var pe;(pe=document.querySelector("#app"))==null||pe.addEventListener("contextmenu",e=>e.preventDefault());function we(){setTimeout(()=>{debugger;we()},1)}var ne="data:image/png;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAyAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDN0EzNkRCRDdGRkIxMUUyODRDOEVCRjk0QjI1RkQ3NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDN0EzNkRCRTdGRkIxMUUyODRDOEVCRjk0QjI1RkQ3NyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM3QTM2REJCN0ZGQjExRTI4NEM4RUJGOTRCMjVGRDc3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM3QTM2REJDN0ZGQjExRTI4NEM4RUJGOTRCMjVGRDc3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQACAYGBgYGCAYGCAwIBwgMDgoICAoOEA0NDg0NEBEMDg0NDgwRDxITFBMSDxgYGhoYGCMiIiIjJycnJycnJycnJwEJCAgJCgkLCQkLDgsNCw4RDg4ODhETDQ0ODQ0TGBEPDw8PERgWFxQUFBcWGhoYGBoaISEgISEnJycnJycnJycn/8AAEQgAHAAcAwEiAAIRAQMRAf/EAHoAAQADAQAAAAAAAAAAAAAAAAUCBgcDAQEAAwAAAAAAAAAAAAAAAAAAAQIDEAAABAMGBAUDBQEAAAAAAAABEQIDEgQFACExExQGQSIVFmFxgTIHQmMmUaHBQ5MXEQACAAYDAQAAAAAAAAAAAAABAgARMWESIkFRAyH/2gAMAwEAAhEDEQA/AKJujdFe67UZeXqE3LMS83MMtobmHgASdXEtSozFQqvvG7ALRprfyJV2FTVJerU/LgPM6y5NLQacUgpKhCK/ALE7gWK6/VQEwOdmTFQc17zgksAuAfK27/F+7q1ueWk6VRKdK0ujUVLKJ19a1OrdbhUnLaQCUEtxSRUKxHxvO2Pn5eeCzRSZCZIn9jR3bJtjU8xhrle3RLvqlpuqVFh9oYVsuzEyhQKD6VpUsFBa2d11fsTqGqd1vVNLqM1wj0h5kEcMUHLh4kduHyxuakbr3QEzQwBxhhhMsqaKEH1IUtQrSFwkADCAjePkVhjR/wA/yYni6yZwIy4tL7T9xlw/ixvLzyTRanjjEwV2k2xp3eCqyKBq9RAQ5gmn/AwzFmXiVr38W7g2zRJepp3FUZyRF9bIywSbsw2CwQlYLjCWEMDDGxu7+0urOZutzIlxabTmUa8rP/rzMovZwKPnsD+IGqLqsXGPTH+/G1kY4rNTS0Q6jI7Ct4JBKoyQKcBjK4CD9S4WZ5u0SIT6n44aXzw9cLQT2gYQ9Ux46UvU+Fr9+Ido/VpI/s5WXk/76jUep/asZjNdTW3UFUSbYUv3H//Z",be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACRSURBVEhL7daxDYAgEIXhmwQ1DsACNo7gANYu4Riu42yYh7mrKO9RACZ/I8YvwWBOcF33lp73pAbDsBBCvrEfa5qXyTW8E++OMf6o6gxMUxRWBpmYBsPA0gOMBuheJyDOR2mRkR380iKjTra0/W/Y/pYO0LMBumdgrSHKQPwBmKhObAZiEGahitkgrNN3jUREPjyCoXkD2eO/AAAAAElFTkSuQmCC",st=T({name:"canvas-box",props:{width:{type:Number,default:()=>300},height:{type:Number,default:()=>200},images:{type:Array,default:()=>[]},canvasClass:{type:[String,Array],default:""},scale:{type:Number,default:()=>1}},setup(e){const a=w(),s=N({x:0,y:0}),o=N({x:0,y:0}),l=w(!1);$([()=>e.images,()=>e.scale],ve.exports.debounce(A,10));const r=w(!1),f=w(0);async function c(g,k){return new Promise(Q=>{if(k!=f.value){Q(void 0);return}const B=new Image;B.onload=()=>{Q(B)},B.onerror=()=>{Q(void 0)},B.src=g})}async function A(){var g;r.value=!0;try{const k=e.width,Q=e.height,B=new Date().getTime();f.value=B;let S=Array.from(e.images);S.sort((p,M)=>p.z-M.z);const i=S.map(async p=>{var M,C,z,j;return p.img||(p.img=await c(p.url,B),p.width=(C=(M=p.img)==null?void 0:M.width)!=null?C:p.width,p.height=(j=(z=p.img)==null?void 0:z.height)!=null?j:p.height),p});S=await Promise.all(i);let I=e.width,V=e.height,E=0,F=0;for(let p of S)I=Math.min(p.x,I),V=Math.min(p.y,V),E=Math.max(p.width,E),F=Math.max(p.height,F);S=S.map(p=>X(W({},p),{x:p.x-I,y:p.y-V}));let ee=Math.round((e.width-E)/2+o.x),J=Math.round((e.height-F)/2+o.y);const Y=(g=a.value)==null?void 0:g.getContext("2d");if(Y){const p=e.scale;Y.clearRect(0,0,k,Q),S.forEach(M=>{const C=Math.round((M.x+ee)*p);let z=Math.round((M.y+J)*p);const j=Math.round(M.width*p),Z=Math.round(M.height*p);M.img&&Y.drawImage(M.img,C,z,j,Z)})}}finally{r.value=!1}}function b({x:g,y:k}){l.value=!0,s.x=g,s.y=k}function m(){l.value=!1}function y(g){l.value&&(o.x+=(g.clientX-s.x)/e.scale,o.y+=(g.clientY-s.y)/e.scale,s.x=g.clientX,s.y=g.clientY,A())}const R=x(()=>({width:e.width?`${e.width}px`:"0",height:e.height?`${e.height}px`:"0"}));return()=>n("div",{class:"relative"},[n("div",{class:"bg-light h-full w-full z-99 absolute items-center justify-center".concat(" ").concat(r.value?"flex":"hidden")},[n("div",{class:"text-primary loading"},null)]),n("canvas",{ref:a,style:R.value,class:[e.canvasClass].concat("cursor-move","select-none"),width:e.width,height:e.height,onMouseleave:m,onMousedown:b,onMouseup:m,onMousemove:y},null)])}});const lt=he("collocation",{state(){return{list:[],display_list:[],collocation_types:[]}},actions:{async fetchData(){let{list:e=[],types:a=[]}=await fetch("/api/collocation.json").then(s=>s.json());this.list=e,this.collocation_types=a},async load(e){let{profession:a,keyword:s,size:o,page:l,type:r,year:f}=e;const c=s.split(" ");let A=this.list.filter(b=>!(!c.every(m=>{var y,R;return((y=b.name)==null?void 0:y.includes(m))||((R=b.description)==null?void 0:R.includes(m))})||a&&b.profession!==a||r&&b.type!==r||f&&b.year!==f));A=A.slice(0,(l+1)*o),this.display_list=A}},getters:{years(){let e=new Date().getFullYear(),a=new Array(e-2007);for(let s=0;s<a.length;s++)a[s]=e-s;return a}}}),ot=["hair","cap","face","neck","coat","skin","belt","pants","shoes"],oe=he("dressing",{state(){return{profession_list:[],profession:void 0,dresses:{},icons:{}}},getters:{profession_name(){var e,a;return(a=(e=this.profession)==null?void 0:e.name)!=null?a:"swordman"}},actions:{async loadProfession(){if(this.profession_list.length===0){let e=await fetch("/api/profession.json").then(a=>a.json());return this.profession_list=e,this.profession=e[0],e}return[]},async setProfession(e){this.profession=e,localStorage.setItem("last-profession",e.name);let a=[];for(let s of ot)a.push(this.getDressList(s)),a.push(this.getIcon(s));await Promise.all(a)},setProfessionName(e){this.profession=this.profession_list.find(a=>a.name==e)},async getIcon(e){let a=this.profession_name;if(!this.icons[a]||!this.icons[a][e]){let s=await fetch(`/icon/${a}/${e}.json`).then(o=>o.json());this.icons[a]=this.icons[a]||{},this.icons[a][e]=s}return this.icons[a][e]},async getDressList(e){let a=this.profession_name;if(!this.dresses[a]||!this.dresses[a][e]){let s=await fetch(`/api/${a}/${e}.json`).then(o=>o.json());s=s.map(o=>Object.assign(o,{profession:a,part:e,icon:`/icon/${a}/${e}/${o.code}.png`})),this.dresses[a]=this.dresses[a]||{},this.dresses[a][e]=s}return this.dresses[a][e]},async getDress(e){let a=[];for(let s in e){if(e[s]==="-1")continue;let l=(await this.getDressList(s)).find(r=>r.code===e[s]);l&&a.push(l)}return a}}});var it=Te(),rt=T({props:{collapsed:{type:Boolean,default:()=>!0}},setup(e,{emit:a}){const s=oe(),o=Ve(e,"collapsed",a),l=de(o);function r(m){return{width:"26px",height:"26px",margin:"0 11px",backgroundImage:'url("/icon/profession.png")',backgroundPositionX:`-${m*26}px`,backgroundPositionY:`${0}px`}}const f=Ge({selector:"html",attribute:"data-theme",valueLight:"light",valueDark:"dark"}),c=de(f),A=ze("(max-width: 640px)");function b(m){return()=>{a("apply",m),gtag("event","select-profession",{label:m.label,name:m.name}),A.value&&l(!0)}}return()=>n("div",{class:"h-full fixed left-0 top-0 bg-light float-left  text-dark duration-300 shadow z-999".concat(" ").concat(o.value?"w-12":"sm:w-64 w-full")},[n("div",{class:"h-8 text-center"},[n(h("apt-button"),{title:o.value?"\u5C55\u5F00":"\u6536\u8D77",class:"font-bold text-xl w-full duration-300 select-none",onClick:l},{default:()=>[n("div",{class:o.value?"i-mdi-add":"i-mdi-baseline-minus"},null)]})]),O(s.profession_list,(m,y)=>n("div",{title:m.label,key:y,onClick:b(m),class:["prof-item odd:flex-row-reverse text-sm flex-1 h-12 flex items-center cursor-pointer select-none  duration-200 relative "].concat(m==s.profession?"active":"")},[n("div",{class:"absolute",style:r(y)},null),n("div",{class:["flex-1","text-center"].concat(o.value?"hidden":"")},[m.label])])),n("div",null,[n(h("apt-button"),{title:f.value?"\u6D45\u8272\u6A21\u5F0F":"\u6DF1\u8272\u6A21\u5F0F",onClick:c,class:"font-bold text-xl  w-full duration-300 select-none"},{default:()=>[n("div",{class:["w-6 h-6 bg-center bg-no-repeat text-dark"].concat(f.value?"i-mdi-outline-dark-mode":"i-mdi-outline-light-mode")},null)]})])])}});var K=(e,a)=>{const s=e.__vccOpts||e;for(const[o,l]of a)s[o]=l;return s},ct=K(rt,[["__scopeId","data-v-647dc6e4"]]),ut=T((e,{emit:a})=>{const s=oe(),o=lt(),l={width:156,height:240},r={width:`${l.width}px`,height:`${l.height}px`};me(async()=>{await o.fetchData()});const f=w(!1),c=N({profession:"swordman",year:0,keyword:"",type:!1,page:0,size:16}),A=N({page:0,totalPages:1});async function b(){f.value=!0,await o.load(c),A.page=0,f.value=!1}const m=w(!1);function y(i){const{profession:I,code:V}=i;gtag("event","select_template",i);let E=se.parse(V);a("import",{name:I,query:E}),window.scrollTo(0,0)}function R({profession:i,code:I}){a("export",`${i}?${I}`)}const{x:g,y:k}=Ne();async function Q(){const i=Math.floor(k.value/l.height)+1;if(i>A.page*2){m.value=!0,A.page=i/2;let I=Object.assign({},c,A);await o.load(I),m.value=!1}await Ye(()=>k.value+=l.height)}function B(i){return{backgroundImage:`url("/cover/${i.id}.png")`}}$(()=>s.profession,i=>{(i==null?void 0:i.name)&&(c.profession=i.name)}),Oe(b);const S=w();return Fe(S,i=>{const I=i[0];if(I){const V=I.contentRect.width,E=Math.floor(V/156)*2;c.size=E}}),()=>n("div",null,[n("div",{class:"flex flex-wrap h-auto px-4 pt-2"},[n("div",{class:"select-col justify-center sm:justify-start"},[n(h("apt-input"),{placeholder:"\u641C\u7D22",onKeyup_native:ve.exports.debounce(b,20),"action-icon":"search",class:"search-input",modelValue:c.keyword,"onUpdate:modelValue":i=>c.keyword=i},null)]),n("div",{class:"select-col"},[n(h("apt-indices"),{size:"small",modelValue:c.profession,"onUpdate:modelValue":i=>c.profession=i},{default:()=>[n(h("apt-option"),{value:!1,label:"\u5168\u90E8"},null),O(s.profession_list,i=>n(h("apt-option"),{key:i.name,label:i.label,value:i.name},null))]})]),n("div",{class:"select-col"},[n(h("apt-indices"),{size:"small",modelValue:c.type,"onUpdate:modelValue":i=>c.type=i},{default:()=>[n(h("apt-option"),{value:!1,label:"\u5168\u90E8"},null),O(o.collocation_types,i=>n(h("apt-option"),{"text-dark":"black",key:i.name,label:i.label,value:i.name},null))]})]),n("div",{class:"select-col"},[n(h("apt-indices"),{size:"small",modelValue:c.year,"onUpdate:modelValue":i=>c.year=i},{default:()=>[n(h("apt-option"),{value:0,label:"\u5168\u90E8"},null),O(o.years,i=>n(h("apt-option"),{key:i,label:`${i}\u5E74`,value:i},null))]})])]),n("div",{onTouchend:Q,ref:S,class:"flex flex-wrap duration-300 collocations"},[O(o.display_list,i=>n("div",{title:i.description,class:"py-3 duration-400 item relative box-border",style:r},[n("div",{style:B(i),class:"bg-bottom bg-no-repeat w-full layer absolute"},null),n("div",{class:"h-full w-full z-1 relative"},[n("div",{class:"name",textContent:i.name},null),n("div",{class:"info"},[n("span",null,[D("\u4F5C\u8005:")]),n("span",{class:"text-primary",textContent:i.author},null)]),n("div",{class:"info"},[n("span",null,[D("\u70ED\u5EA6:")]),n("span",{textContent:i.amount},null)]),n(h("apt-button"),{class:"border-1",onClick:()=>y(i),type:"primary",textContent:i.custom?"\u4E0B\u8F7D":"\u5BFC\u5165"},null),!i.custom&&n(h("apt-button"),{class:"border-1",onClick:()=>R(i),type:"primary"},{default:()=>[D("\u5BFC\u51FA")]})])]))]),n(h("apt-button"),{class:"text-xl w-full",onClick:Q,"full-width":!0},{default:()=>[n("div",{class:"text-2xl i-mdi-baseline-keyboard-arrow-down"},null)]})])});var dt=K(ut,[["__scopeId","data-v-76a25838"]]),ft=T({name:"app",components:{CanvasBox:st,Profession:ct,Collocation:dt},setup(){const e=N({part:"skin"}),a=N({width:300,height:300,scale:100}),s=oe(),o=x(()=>{var t;return((t=s.profession)==null?void 0:t.weapons)||[]});x(()=>o.value.find(t=>t.name==e.weapon));const l=x(()=>{let t=e.part;return t=="weapon"&&!!e.weapon&&(t=e.weapon),t}),r=x(()=>a.scale/100),f=w(""),c=w([]),A=w(""),b=x(()=>{var d;const t=(d=s.profession)==null?void 0:d.name;let u=[];if(t)for(let v in y){let _=y[v].images||[],U=v;U==="weapon"&&(U=e.weapon),!!U&&(_.forEach(re=>re.url=`/image/${t}/${U}/${re.name}`),u.push(..._))}return u}),m=w([]),y=N({hair:L("hair"),cap:L("cap"),face:L("face"),neck:L("neck"),coat:L("coat"),skin:L("skin"),belt:L("belt"),pants:L("pants"),shoes:L("shoes")});function R(t){return!!t&&parseInt(t)>-1}function g(t){if(t&&t.target){const u=t.target;u.src=ne}}function k(t){return`${t.name||""}[${t.code}]`}function Q(t){let u=`${t.part}/${t.code}.png`,d=c.value.findIndex(v=>v.name===u);if(d>-1){let v=c.value[d];return{backgroundImage:`url("/icon/${t.profession}/${t.part}.png")`,backgroundPositionX:`${v.x}px`,backgroundPositionY:`${v.y}px`}}return{backgroundImage:`url("${ne}") `}}function B(t){let u=40,d=40,v=28+40;return u+=Math.floor(t/3)*v,d+=t%3*v,{top:`${u}px`,left:`${d}px`,backgroundImage:`url(${be})`}}const S=x(()=>f.value.split(" ").filter(t=>t.length>0)),i=x(()=>{let t=[];return S.value.length===0?t=Array.from(m.value):t=m.value.filter(I),t.sort((u,d)=>parseInt(u.code)-parseInt(d.code)),t});function I(t){const u=S.value;for(let d of u)if(!(t.name&&t.name.match(d)||t.code.match(d))&&!(t.name&&t.name.indexOf(d)>-1)&&!(t.code.indexOf(d)>-1))return!1;return!0}function V(t){let{code:u,part:d}=t;return!!d&&u===y[d].code}async function E({name:t,query:u={}}={}){for(let _ in y)u[_]||p(_);if(!t)return;s.setProfessionName(t),await F();const v=(await s.getDress(u)).map(async _=>await J(_));await Promise.all(v)}async function F(){let t=l.value;const[u,d]=await Promise.all([s.getIcon(t),s.getDressList(t)]);c.value=u,m.value=d}async function ee(t){e.part!==t&&(e.part=t,await F())}async function J(t){let{code:u,part:d}=t;const v=parseInt(u);if(isNaN(v)||v===-1){p(d);return}(!d||!y[d])&&(d="weapon"),y[d]=Object.assign({title:y[d].title},t)}function Y(t){return u=>{u.preventDefault(),p(t)}}function p(t){y[t]=L(t)}async function M(){await E(s.profession)}const C=N({imports:!1,exports:!1}),z=w(!1),j=w(""),Z=/.*\?(.*=&)*/;async function Re(){try{let t=await navigator.clipboard.readText();t.match(Z)&&(j.value=t)}finally{C.imports=!0}}async function Se(){C.imports=!1;const t=j.value;if(t.match(Z)){let u=t.indexOf("?");u<0&&(u=t.length-1);let d=t.substring(0,u),v=t.substring(u+1),_=se.parse(v);await E({name:d,query:_})}}async function ie(t){if(!t){let u=s.profession_name,d={};for(let v in y){let{code:_}=y[v];if(R(_)){let U=(v==="weapon"?A.value:v)||v;d[U]=_}}t=`${u}?${se.stringify(d)}`}j.value=t,z.value=!0;try{await navigator.clipboard.writeText(t)}catch{z.value=!1}finally{C.exports=!0}}me(async()=>{const t=Pe(),u=$e(),d=await s.loadProfession();if(d&&d.length>0){let{path:v}=t,_=t.query;v=v.replace("/","");let U={};v&&v.length>0?(U={name:v,query:_},await u.replace("/")):s.profession&&(U=s.profession),await E(U)}});const P=w(!0),{isSwiping:Ee,direction:Me}=Je(document.documentElement);return $(Ee,t=>{if(t)switch(Me.value){case"LEFT":P.value=!0;return;case"RIGHT":P.value=!1;return}}),()=>n(Ze,null,[n(h("profession"),{collapsed:P.value,"onUpdate:collapsed":t=>P.value=t,onApply:E},null),n("div",{class:["flex justify-center duration-300 pr-4 pt-8"].concat(P.value?"pl-16":"sm:pl-64")},[n("div",{class:"flex flex-wrap max-w-400 justify-center items-start overflow-x-hidden "},[n("div",{class:"flex flex-wrap"},[n("div",{class:"flex-wrap flex card justify-center items-center "},[n("div",{class:"flex h-20 w-full items-center justify-center"},[n("div",{class:"border-primary cursor-pointer flex border-1 rounded-1 overflow-hidden items-center"},[n(h("apt-button"),{class:"border-r-primary border-r-1 border-0",title:"\u91CD\u7F6E",onClick:M,size:"normal",color:"gray"},{default:()=>[n("div",{class:"text-xl i-mdi-refresh"},null)]}),n(h("apt-button"),{class:"border-r-primary border-r-1 border-0",title:"\u5BFC\u5165",onClick:Re,size:"normal",type:"primary"},{default:()=>[D("\u5BFC\u5165")]}),n(h("apt-button"),{class:"",onClick:()=>ie(),title:"\u5BFC\u51FA",type:"info",size:"normal"},{default:()=>[D("\u5BFC\u51FA")]})])]),n(h("canvas-box"),{height:a.height,width:a.width,images:b.value,scale:r.value},null),n("div",{class:"h-60 w-60 part relative"},[O(y,(t,u,d)=>{var v;return n("div",{onClick:()=>ee(u),onContextmenu:Y(u),key:u,style:B(d),class:["item","text-xs","absolute","w-8","h-8","border-2","border-transparent","box-border"].concat(u===e.part?"active":"")},[R(t.code)?n("img",{class:"flex h-7 m-0 w-7 icon",src:(v=t.icon)!=null?v:ne,title:k(t),onError:g,draggable:"false"},null):n("div",{class:"icon",title:t.title},[t.title])])})]),n("div",{class:"h-auto justify-end overflow-hidden sm:h-93"},[n("div",{class:"flex h-12 items-center justify-center"},[n(h("apt-input"),{placeholder:"\u641C\u7D22",modelValue:f.value,"onUpdate:modelValue":t=>f.value=t},null)]),n("div",{class:"flex flex-wrap h-auto w-75 select overflow-y-auto justify-start sm:h-75 "},[n("div",{onClick:()=>p(e.part),class:"icon default"},null),O(i.value,t=>n("div",{class:{active:V(t),icon:!0},key:t.hash,style:Q(t),title:k(t),onClick:()=>J(t)},null))])])]),n(h("collocation"),{class:"mt-4 card",onExport:ie,onImport:E},null)]),n("div",{class:"flex flex-wrap my-8 text-center text-base text-dark items-center"},[n("p",{class:"m-0 w-full"},[n("a",{class:"text-primary",href:"//gitee.com/davatar/davatar"},[D("DAvatar\xA0Ver\xA02.0.0")])]),n("p",{class:"m-0 w-full"},[D("Copyright\xA0\xA9\xA02017-present\xA0"),n("a",{class:"text-primary",href:"//gitee.com/apateat"},[D("Apateat")]),D(".")]),n("p",{class:"m-0 w-full"},[D("All\xA0rights\xA0reserved.")])])])]),n(h("apt-dialog"),{class:"h-30 p-4 w-80 relative",onYes:()=>C.exports=!1,"cancel-button":!1,visible:C.exports,"onUpdate:visible":t=>C.exports=t},{default:()=>[n("div",{class:"h-8 text-dark w-full leading-8"},[D("\u5BFC\u51FA")]),le(n("div",{class:"text-red-400"},[D("\u590D\u5236\u5931\u8D25,\u8BF7\u81EA\u884C\u590D\u5236\u5230\u526A\u8D34\u677F")]),[[ye,!z.value]]),n("div",{class:" text-primary break-all select-all "},[j.value])]}),n(h("apt-dialog"),{onYes:Se,onCancel:()=>C.imports=!1,class:"p-4 w-80",visible:C.imports,"onUpdate:visible":t=>C.imports=t},{default:()=>[n("div",{class:"h-8 text-dark w-full leading-8"},[D("\u5BFC\u5165")]),n(h("apt-input"),{multiline:!0,modelValue:j.value,"onUpdate:modelValue":t=>j.value=t,placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7801",class:"h-auto w-full word-wrap"},null)]})])}});const pt={hair:"\u5934\u90E8",cap:"\u5E3D\u5B50",face:"\u8138\u90E8",neck:"\u80F8\u90E8",coat:"\u4E0A\u8863",skin:"\u76AE\u80A4",belt:"\u8170\u5E26",pants:"\u4E0B\u88C5",shoes:"\u978B"};function L(e){return{name:"",part:e,icon:be,images:[],code:"-1",title:pt[e]}}var fe=K(ft,[["__scopeId","data-v-1eaf9022"]]),vt=We({history:Xe("/"),routes:[{name:"index",path:"/",component:fe},{name:"character",path:"/:id",component:fe}]});var xe=T({name:"i-button",props:{disabled:{type:Boolean,default:!1},small:{type:Boolean,default:!1},to:{type:String,default:null}},setup(e,{slots:a}){return()=>G(e.to?He:"button",{to:e.to,class:{"i-button":!0,disabled:e.disabled,small:e.small}},H(a,"default"))}});const ke=Symbol("[i-selection]active"),Ie=Symbol("[i-selection]init"),Ce=Symbol("[i-selection]active-class"),_e={modelValue:{type:[String,Number,Object,Boolean]},activeClass:{type:String}};function De(e,a){const s=x({set(l){a.emit("update:modelValue",l==null?void 0:l.value)},get(){return o.find(l=>l.value==e.modelValue)}});te(ke,s),te(Ce,x(()=>e.activeClass));const o=[];return te(Ie,l=>{o.push(l),(s.value==null||s.value==null)&&(s.value=l.value)}),{active:s}}var ht=T({name:"i-select",props:X(W({},_e),{disabled:{type:Boolean,default:!1},width:{type:Number,default:120},emptyLabel:{type:String}}),setup(e,a){const{active:s}=De(e,a),o=w(!1),l=w();$(o,A);function r(){o.value=!o.value&&!b.value}const f=w({x:0,y:0,w:0}),c=x(()=>({left:`${f.value.x}px`,top:`${f.value.y}px`,width:`${f.value.w}px`,visibility:o.value?void 0:"hidden"}));function A(){if(l.value){const{width:m,height:y,left:R,top:g}=l.value.getBoundingClientRect();f.value={w:m,x:R,y:g+y+4}}}const b=x(()=>!!e.disabled);return Ae(l,()=>o.value=!1),window.addEventListener("resize",A),window.addEventListener("scroll",A),Ke(()=>{window.removeEventListener("resize",A),window.removeEventListener("scroll",A)}),function(){function y(){var g,k;return G("div",{class:{"i-select-trigger":!0,disabled:e.disabled},ref:l},[G("span",{class:"i-select-label"},(k=(g=s==null?void 0:s.value)==null?void 0:g.key)!=null?k:e.emptyLabel),G("div",{class:"i-select-down-icon"})])}const R=()=>{const{slots:g}=a;return G(ge,{to:"body"},[G("div",{class:"i-select-dropdown",style:c.value},H(g,"default"))])};return G("div",{class:"i-select",onClick:r,style:{width:e.width==0?0:`${e.width}px`}},[y(),R()])}}});const mt={value:{type:[Object,String,Number,Boolean]},label:{type:[Function,String]}};function yt(e){const a=ae(ke),s=ae(Ie),o=x(()=>{var c;return e.value==((c=a==null?void 0:a.value)==null?void 0:c.value)}),l=x(()=>{let c=e.label;return typeof c=="function"&&(c=c(e.value)),c!=null?c:e.value}),r=x(()=>({key:l.value,value:e.value}));s&&s(r.value),$(r,()=>{o.value&&a&&(a.value=r.value)});const f=ae(Ce);return{active:a,isActive:o,current:r,label:l,activeClass:f}}var At=T({name:"i-option",props:mt,setup(e){const{active:a,activeClass:s,isActive:o,current:l,label:r}=yt(e);return()=>{var f;return G("span",{class:{"i-option":!0,[(f=s==null?void 0:s.value)!=null?f:"active"]:o.value},onClick(){a&&(a.value=l.value)}},r.value)}}});var gt=T({name:"i-indices",props:X(W({},_e),{label:{type:String}}),setup(e,a){De(e,a);const{slots:s}=a;return()=>{const o=[];return e.label&&o.push(n("span",{class:"i-indices-label",textContent:e.label},null)),o.push(H(s,"default")),n("div",{class:"space-x-4 text-dark i-indices"},[o])}}});var wt=T({name:"i-input",props:{modelValue:{type:String},placeholder:{type:String},multiline:{type:Boolean,default:!1}},setup(e,{emit:a}){const s=x({get(){return e.modelValue},set(l){a("update:modelValue",l)}});function o(l){const r=l.target;r&&(s.value=r.textContent)}return()=>e.multiline?n("div",{contenteditable:!0,class:"i-input",placeholder:e.placeholder,textContent:s.value,onInput:o},null):le(n("input",{class:"i-input",placeholder:e.placeholder,"onUpdate:modelValue":l=>s.value=l},null),[[qe,s.value]])}});function bt(e="body",a){return G(ge,{to:e},a)}var xt=T({name:"i-dialog",components:{IButton:xe},props:{visible:{type:Boolean,default:!1},class:{type:String},yesButton:{type:[String,Boolean],default:"\u786E\u5B9A"},cancelButton:{type:[String,Boolean],default:"\u53D6\u6D88"}},emits:["close","yes","cancel","update:visible"],setup(e,{emit:a,slots:s}){const o=w();Ae(o,()=>a("update:visible",!1));function l(){a("yes")}function r(){a("cancel")}function f(){if(e.yesButton||e.cancelButton){const c=[];return e.cancelButton&&c.push(n(h("i-button"),{onClick:r},{default:()=>[e.cancelButton]})),e.yesButton&&c.push(n(h("i-button"),{class:"primary",onClick:l},{default:()=>[e.yesButton]})),n("div",{class:"flex mt-8 justify-end"},[c])}}return()=>bt("body",[n(et,{name:"dialog",mode:"out-in"},{default:()=>[le(n("div",{class:["dialog-mask bg-#00000066 w-full h-full fixed top-0 left-0 z-999 flex justify-center items-center duration-300 ease-in-out"]},[n("div",{ref:o,class:["bg-light h-auto shadow-sm round-1 p-4 dialog",e.class]},[n("div",{class:"w-full"},[n("div",{class:"h-auto"},[D(" "),H(s,"default")]),f()])])]),[[ye,e.visible]])]})])}});var kt=K(xt,[["__scopeId","data-v-86d82c72"]]),It={install(e){e.component("apt-button",xe),e.component("apt-select",ht),e.component("apt-option",At),e.component("apt-indices",gt),e.component("apt-input",wt),e.component("apt-dialog",kt)}};const q=tt(at);q.use(vt);q.use(it);q.use(It);q.mount("#app");
