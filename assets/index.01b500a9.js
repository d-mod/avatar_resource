var Ee=Object.defineProperty,Se=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var oe=(e,n,s)=>n in e?Ee(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,$=(e,n)=>{for(var s in n||(n={}))Be.call(n,s)&&oe(e,s,n[s]);if(le)for(var s of le(n))Me.call(n,s)&&oe(e,s,n[s]);return e},J=(e,n)=>Se(e,_e(n));import{d as B,r as w,a as V,w as Y,l as ce,c as b,b as a,e as ue,f as je,u as ie,g as Qe,h as v,i as G,o as de,j as Ue,k as Le,m as Ve,n as Ge,p as D,q as H,s as Ne,t as Oe,F as Te,v as K,x as fe,y as Ye,z as ze,A as L,B as z,R as Fe,C as Z,D as pe,E as Pe,T as ve,G as W,H as $e,I as Je,J as Ze}from"./vendor.acfd6c52.js";const We=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}};We();location.hostname.endsWith("gitee.io")||(location.href="//davatar.gitee.io");var X="data:image/png;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAyAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDN0EzNkRCRDdGRkIxMUUyODRDOEVCRjk0QjI1RkQ3NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDN0EzNkRCRTdGRkIxMUUyODRDOEVCRjk0QjI1RkQ3NyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM3QTM2REJCN0ZGQjExRTI4NEM4RUJGOTRCMjVGRDc3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM3QTM2REJDN0ZGQjExRTI4NEM4RUJGOTRCMjVGRDc3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQACAYGBgYGCAYGCAwIBwgMDgoICAoOEA0NDg0NEBEMDg0NDgwRDxITFBMSDxgYGhoYGCMiIiIjJycnJycnJycnJwEJCAgJCgkLCQkLDgsNCw4RDg4ODhETDQ0ODQ0TGBEPDw8PERgWFxQUFBcWGhoYGBoaISEgISEnJycnJycnJycn/8AAEQgAHAAcAwEiAAIRAQMRAf/EAHoAAQADAQAAAAAAAAAAAAAAAAUCBgcDAQEAAwAAAAAAAAAAAAAAAAAAAQIDEAAABAMGBAUDBQEAAAAAAAABEQIDEgQFACExExQGQSIVFmFxgTIHQmMmUaHBQ5MXEQACAAYDAQAAAAAAAAAAAAABAgARMWESIkFRAyH/2gAMAwEAAhEDEQA/AKJujdFe67UZeXqE3LMS83MMtobmHgASdXEtSozFQqvvG7ALRprfyJV2FTVJerU/LgPM6y5NLQacUgpKhCK/ALE7gWK6/VQEwOdmTFQc17zgksAuAfK27/F+7q1ueWk6VRKdK0ujUVLKJ19a1OrdbhUnLaQCUEtxSRUKxHxvO2Pn5eeCzRSZCZIn9jR3bJtjU8xhrle3RLvqlpuqVFh9oYVsuzEyhQKD6VpUsFBa2d11fsTqGqd1vVNLqM1wj0h5kEcMUHLh4kduHyxuakbr3QEzQwBxhhhMsqaKEH1IUtQrSFwkADCAjePkVhjR/wA/yYni6yZwIy4tL7T9xlw/ixvLzyTRanjjEwV2k2xp3eCqyKBq9RAQ5gmn/AwzFmXiVr38W7g2zRJepp3FUZyRF9bIywSbsw2CwQlYLjCWEMDDGxu7+0urOZutzIlxabTmUa8rP/rzMovZwKPnsD+IGqLqsXGPTH+/G1kY4rNTS0Q6jI7Ct4JBKoyQKcBjK4CD9S4WZ5u0SIT6n44aXzw9cLQT2gYQ9Ux46UvU+Fr9+Ido/VpI/s5WXk/76jUep/asZjNdTW3UFUSbYUv3H//Z",me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACRSURBVEhL7daxDYAgEIXhmwQ1DsACNo7gANYu4Riu42yYh7mrKO9RACZ/I8YvwWBOcF33lp73pAbDsBBCvrEfa5qXyTW8E++OMf6o6gxMUxRWBpmYBsPA0gOMBuheJyDOR2mRkR380iKjTra0/W/Y/pYO0LMBumdgrSHKQPwBmKhObAZiEGahitkgrNN3jUREPjyCoXkD2eO/AAAAAElFTkSuQmCC",Xe=B({name:"canvas-box",props:{width:{type:Number,default:()=>300},height:{type:Number,default:()=>200},images:{type:Array,default:()=>[]},x:{type:Number,default:()=>0},y:{type:Number,default:()=>0},canvasClass:{type:[String,Array],default:""},scale:{type:Number,default:()=>1},offset:{type:Object,default:()=>({x:0,y:0})}},setup(e){const n=w(),s=V({x:0,y:0}),o=V({x:0,y:0}),l=w(!1);Y([()=>e.images,()=>e.scale],ce.exports.debounce(d,10)),w(!1);const u=w(0);async function p(A,x){return new Promise(k=>{if(x!=u.value){k();return}const E=new Image;E.onload=()=>{k(E)},E.onerror=()=>{k()},E.src=A})}async function d(){var i;console.time("draw");const A=e.width,x=e.height;console.time("before loadImage");const k=new Date().getTime();u.value=k;const E=e.images.map(async y=>(y.img||(y.img=await p(y.url,k)),y));console.timeEnd("before loadImage"),console.time("loading...");const N=await Promise.all(E);console.timeEnd("loading..."),N.sort((y,j)=>y.z-j.z);const M=(i=n.value)==null?void 0:i.getContext("2d");if(M){const y=o.x-e.offset.x,j=o.y-e.offset.y,R=e.scale;M.clearRect(0,0,A,x),N.forEach(Q=>{Q.img&&M.drawImage(Q.img,(Q.x+y)*R,(Q.y+j)*R,Q.width*R,Q.height*R)})}console.timeEnd("draw")}function m({x:A,y:x}){l.value=!0,s.x=A,s.y=x}function g(){l.value=!1}function I(A){l.value&&(o.x+=(A.clientX-s.x)/e.scale,o.y+=(A.clientY-s.y)/e.scale,s.x=A.clientX,s.y=A.clientY,d())}const h=b(()=>({width:e.width?`${e.width}px`:"0",height:e.height?`${e.height}px`:"0"}));return()=>a("canvas",{ref:n,style:h.value,class:e.canvasClass,width:e.width,height:e.height,onMouseleave:g,onMousedown:m,onMouseup:g,onMousemove:I},null)}});const He=ue("collocation",{state(){return{list:[],display_list:[],collocation_types:[]}},actions:{async fetchData(){let{list:e=[],types:n=[]}=await fetch("/api/collocation.json").then(s=>s.json());this.list=e,this.collocation_types=n},async load(e){let{profession:n,keyword:s,size:o,page:l,type:u,year:p}=e;const d=s.split(" ");let m=this.list.filter(g=>!(!d.every(I=>{var h,A;return((h=g.name)==null?void 0:h.includes(I))||((A=g.description)==null?void 0:A.includes(I))})||n&&g.profession!==n||u&&g.type!==u||p&&g.year!==p));m=m.slice(0,(l+1)*o),this.display_list=m}},getters:{years(){let e=new Date().getFullYear(),n=new Array(e-2007);for(let s=0;s<n.length;s++)n[s]=e-s;return n}}}),Ke=["hair","cap","face","neck","coat","skin","belt","pants","shoes"],q=ue("dressing",{state(){return{profession_list:[],profession:void 0,dresses:{},icons:{}}},getters:{profession_name(){var e,n;return(n=(e=this.profession)==null?void 0:e.name)!=null?n:"swordman"}},actions:{async loadProfession(){if(this.profession_list.length===0){let e=await fetch("/api/profession.json").then(n=>n.json());return this.profession_list=e,this.profession=e[0],e}return[]},async setProfession(e){this.profession=e,localStorage.setItem("last-profession",e.name);let n=[];for(let s of Ke)n.push(this.getDressList(s)),n.push(this.getIcon(s));await Promise.all(n)},setProfessionName(e){this.profession=this.profession_list.find(n=>n.name==e)},async getIcon(e){let n=this.profession_name;if(!this.icons[n]||!this.icons[n][e]){let s=await fetch(`/icon/${n}/${e}.json`).then(o=>o.json());this.icons[n]=this.icons[n]||{},this.icons[n][e]=s}return this.icons[n][e]},async getDressList(e){let n=this.profession_name;if(!this.dresses[n]||!this.dresses[n][e]){let s=await fetch(`/api/${n}/${e}.json`).then(o=>o.json());s=s.map(o=>Object.assign(o,{profession:n,part:e,icon:`/icon/${n}/${e}/${o.code}.png`})),this.dresses[n]=this.dresses[n]||{},this.dresses[n][e]=s}return this.dresses[n][e]},async getDress(e){let n=[];for(let s in e){if(e[s]==="-1")continue;let l=(await this.getDressList(s)).find(u=>u.code===e[s]);l&&n.push(l)}return n}}});var qe=je(),et=B((e,{emit:n})=>{const s=q(),o=w(!0),l=ie(o);function u(m){return{width:"26px",height:"26px",margin:"0 7px",backgroundImage:'url("/icon/profession.png")',backgroundPositionX:`-${m*26}px`,backgroundPositionY:`${0}px`}}const p=Qe({selector:"html",attribute:"data-theme",valueLight:"light",valueDark:"dark"}),d=ie(p);return()=>a("div",{class:"h-full content text-color float-left duration-300 shadow".concat(" ").concat(o.value?"w-10":"w-48")},[a("div",{class:"h-8 text-center"},[a(v("apt-button"),{title:o.value?"\u5C55\u5F00":"\u6536\u8D77",class:"font-bold text-xl w-full duration-300 select-none",onClick:l},{default:()=>[a("div",{class:o.value?"i-mdi-add":"i-mdi-minus"},null)]})]),G(s.profession_list,(m,g)=>a("div",{title:m.label,key:g,onClick:()=>n("apply",m),class:["prof-item odd:flex-row-reverse text-sm w-full h-10 flex items-center cursor-pointer select-none duration-200"].concat(m==s.profession?"active":"")},[a("div",{class:"absolute",style:u(g)},null),a("div",{class:["w-full","text-center"].concat(o.value?"hidden":"")},[m.label])])),a("div",null,[a(v("apt-button"),{title:p.value?"\u6D45\u8272\u6A21\u5F0F":"\u6DF1\u8272\u6A21\u5F0F",onClick:d,class:"font-bold text-xl w-full duration-300 select-none"},{default:()=>[a("div",{class:["icon"].concat(p.value?"dark":"light")},null)]})])])});var ee=(e,n)=>{const s=e.__vccOpts||e;for(const[o,l]of n)s[o]=l;return s},tt=ee(et,[["__scopeId","data-v-33646eba"]]),nt=B((e,{emit:n})=>{const s=q(),o=He(),l={width:156,height:240},u={width:`${l.width}px`,height:`${l.height}px`};de(async()=>{await o.fetchData()});const p=w(!1),d=V({profession:"swordman",year:0,keyword:"",type:!1,page:0,size:16}),m=V({page:0,totalPages:1});async function g(){p.value=!0,await o.load(d),m.page=0,p.value=!1}const I=w(!1);function h({profession:i,code:y}){let j=H.parse(y);n("import",{name:i,query:j}),window.scrollTo(0,0)}function A({profession:i,code:y}){n("export",`${i}?${y}`)}const{x,y:k}=Ue();async function E(){const i=Math.floor(k.value/l.height)+1;if(i>m.page*2){I.value=!0,m.page=i/2;let y=Object.assign({},d,m);await o.load(y),I.value=!1}await Ge(()=>k.value+=l.height)}function N(i){return{backgroundImage:`url("/cover/${i.id}.png")`}}Y(()=>s.profession,i=>{(i==null?void 0:i.name)&&(d.profession=i.name)}),Le(g);const M=w();return Ve(M,i=>{const y=i[0];if(y){const j=y.contentRect.width,R=Math.floor(j/156)*2;d.size=R}}),()=>a("div",null,[a("div",{class:"flex flex-wrap h-auto px-4 pt-2"},[a("div",{class:"select-col"},[a(v("apt-input"),{placeholder:"\u641C\u7D22",onKeyup_native:ce.exports.debounce(g,20),"action-icon":"search",class:"search-input",modelValue:d.keyword,"onUpdate:modelValue":i=>d.keyword=i},null)]),a("div",{class:"select-col"},[a(v("apt-indices"),{size:"small",modelValue:d.profession,"onUpdate:modelValue":i=>d.profession=i},{default:()=>[a(v("apt-option"),{value:!1,label:"\u5168\u90E8"},null),G(s.profession_list,i=>a(v("apt-option"),{key:i.name,label:i.label,value:i.name},null))]})]),a("div",{class:"select-col"},[a(v("apt-indices"),{size:"small",modelValue:d.type,"onUpdate:modelValue":i=>d.type=i},{default:()=>[a(v("apt-option"),{value:!1,label:"\u5168\u90E8"},null),G(o.collocation_types,i=>a(v("apt-option"),{"text-color":"black",key:i.name,label:i.label,value:i.name},null))]})]),a("div",{class:"select-col"},[a(v("apt-indices"),{size:"small",modelValue:d.year,"onUpdate:modelValue":i=>d.year=i},{default:()=>[a(v("apt-option"),{value:0,label:"\u5168\u90E8"},null),G(o.years,i=>a(v("apt-option"),{key:i,label:`${i}\u5E74`,value:i},null))]})])]),a("div",{onTouchend:E,ref:M,class:"flex flex-wrap duration-300 collocations"},[G(o.display_list,i=>a("div",{title:i.description,class:"py-3 duration-400 item relative box-border",style:u},[a("div",{style:N(i),class:"layer"},null),a("div",{class:"h-full w-full z-1 relative"},[a("div",{class:"name",textContent:i.name},null),a("div",{class:"info"},[a("span",null,[D("\u4F5C\u8005:")]),a("span",{class:"text-blue-400",textContent:i.author},null)]),a("div",{class:"info"},[a("span",null,[D("\u70ED\u5EA6:")]),a("span",{textContent:i.amount},null)]),a(v("apt-button"),{class:"border-1",onClick:()=>h(i),type:"primary",textContent:i.custom?"\u4E0B\u8F7D":"\u5BFC\u5165"},null),i.custom?a("div",null,null):a(v("apt-button"),{class:"border-1",onClick:()=>A(i),type:"primary"},{default:()=>[D("\u5BFC\u51FA")]})])]))]),a(v("apt-button"),{class:"text-xl w-full",onClick:E,"full-width":!0},{default:()=>[a("div",{class:"text-2xl i-mdi-chevron-down"},null)]})])});var at=ee(nt,[["__scopeId","data-v-00cbcbe4"]]),st=B({name:"app",components:{CanvasBox:Xe,Profession:tt,Collocation:at},setup(){const e=V({part:"skin"}),n=V({width:300,height:300,scale:100}),s=q(),o=b(()=>{var t;return((t=s.profession)==null?void 0:t.weapons)||[]});b(()=>o.value.find(t=>t.name==e.weapon));const l=b(()=>{let t=e.part;return t=="weapon"&&!!e.weapon&&(t=e.weapon),t}),u=b(()=>n.scale/100),p=w(""),d=w([]),m=w(""),g=b(()=>{var r;const t=(r=s.profession)==null?void 0:r.name;let c=[];if(t)for(let f in h){let C=h[f].images||[],S=f;S==="weapon"&&(S=e.weapon),!!S&&(C.forEach(se=>se.url=`/image/${t}/${S}/${se.name}`),c.push(...C))}return c}),I=w([]),h=V({hair:_("hair"),cap:_("cap"),face:_("face"),neck:_("neck"),coat:_("coat"),skin:_("skin"),belt:_("belt"),pants:_("pants"),shoes:_("shoes")});function A(t){return!!t&&parseInt(t)>-1}function x(t){if(t&&t.target){const c=t.target;c.src=X}}function k(t){return`${t.name||""}[${t.code}]`}function E(t){let c=`${t.part}/${t.code}.png`,r=d.value.findIndex(f=>f.name===c);if(r>-1){let f=d.value[r];return{backgroundImage:`url("/icon/${t.profession}/${t.part}.png")`,backgroundPositionX:`${f.x}px`,backgroundPositionY:`${f.y}px`}}return{backgroundImage:`url("${X}") `}}function N(t){let c=40,r=40,f=28+40;return c+=Math.floor(t/3)*f,r+=t%3*f,{top:`${c}px`,left:`${r}px`,backgroundImage:`url(${me})`}}const M=b(()=>p.value.split(" ").filter(t=>t.length>0)),i=b(()=>{let t=[];return M.value.length===0?t=Array.from(I.value):t=I.value.filter(y),t.sort((c,r)=>parseInt(c.code)-parseInt(r.code)),t});function y(t){const c=M.value;for(let r of c)if(!(t.name&&t.name.match(r)||t.code.match(r))&&!(t.name&&t.name.indexOf(r)>-1)&&!(t.code.indexOf(r)>-1))return!1;return!0}function j(t){let{code:c,part:r}=t;return!!r&&c===h[r].code}async function R({name:t,query:c={}}={}){for(let C in h)c[C]||T(C);if(!t)return;s.setProfessionName(t),await Q();const f=(await s.getDress(c)).map(async C=>await te(C));await Promise.all(f)}async function Q(){let t=l.value;const[c,r]=await Promise.all([s.getIcon(t),s.getDressList(t)]);d.value=c,I.value=r}async function xe(t){e.part!==t&&(e.part=t,await Q())}async function te(t){let{code:c,part:r}=t;const f=parseInt(c);if(isNaN(f)||f===-1){T(r);return}(!r||!h[r])&&(r="weapon"),h[r]=Object.assign({title:h[r].title},t)}function ke(t){return c=>{c.preventDefault(),T(t)}}function T(t){h[t]=_(t)}async function Ie(){await R(s.profession)}const U=V({imports:!1,exports:!1}),P=w(!1),O=w(""),ne=/.*\?(.*=&)*/;async function Ce(){try{let t=await navigator.clipboard.readText();t.match(ne)&&(O.value=t)}finally{U.imports=!0}}async function De(){U.imports=!1;const t=O.value;if(t.match(ne)){let c=t.indexOf("?");c<0&&(c=t.length-1);let r=t.substring(0,c),f=t.substring(c+1),C=H.parse(f);await R({name:r,query:C})}}async function ae(t){if(!t){let c=s.profession_name,r={};for(let f in h){let{code:C}=h[f];if(A(C)){let S=(f==="weapon"?m.value:f)||f;r[S]=C}}console.log(r),t=`${c}?${H.stringify(r)}`}O.value=t,P.value=!0;try{await navigator.clipboard.writeText(t)}catch{P.value=!1}finally{U.exports=!0}}const Re=b(()=>{var f;let t=(f=s.profession)!=null?f:{x:0,y:0},c=t.x+60,r=t.y+60;return{x:c,y:r}});return de(async()=>{const t=Ne(),c=Oe(),r=await s.loadProfession();if(r&&r.length>0){let{path:f}=t,C=t.query;f=f.replace("/","");let S={};f&&f.length>0?(S={name:f,query:C},await c.replace("/")):s.profession&&(S=s.profession),await R(S)}}),()=>a(Te,null,[a(v("profession"),{onApply:R},null),a("div",{class:"flex h-full overflow-y-auto justify-center"},[a("div",{class:"flex flex-wrap my-4 mx-2 max-w-450 justify-center items-start"},[a("div",{class:"flex flex-wrap card justify-center items-center"},[a("div",{class:"flex h-20 w-full items-center justify-center"},[a(v("apt-button"),{class:"border-1",title:"\u91CD\u7F6E",onClick:Ie,size:"normal",color:"gray"},{default:()=>[a("div",{class:"text-xl i-mdi-refresh"},null)]}),a(v("apt-button"),{class:"border-1",title:"\u5BFC\u5165",onClick:Ce,size:"normal",type:"primary"},{default:()=>[a("div",{class:"text-xl i-mdi-arrow-left-bold-box-outline"},[D(" ")])]}),a(v("apt-button"),{class:"border-1",title:"\u5BFC\u51FA",onClick:()=>ae(),type:"info",size:"normal"},{default:()=>[a("div",{class:"text-xl i-mdi-arrow-right-bold-box-outline"},null)]})]),a(v("canvas-box"),{height:n.height,width:n.width,images:g.value,offset:Re.value,scale:u.value},null),a("div",{class:"h-60 w-60 part relative"},[G(h,(t,c,r)=>{var f;return a("div",{onClick:()=>xe(c),onContextmenu:ke(c),key:c,style:N(r),class:["item","text-xs","absolute","w-8","h-8","border-2","border-transparent","box-border"].concat(c===e.part?"active":"")},[A(t.code)?a("img",{class:"flex h-7 m-0 w-7 icon",src:(f=t.icon)!=null?f:X,title:k(t),onError:x,draggable:"false"},null):a("div",{class:"icon",title:t.title},[t.title])])})]),a("div",{class:"h-93 justify-end overflow-hidden"},[a("div",{class:"flex h-12 items-center justify-center"},[a(v("apt-input"),{placeholder:"\u641C\u7D22",modelValue:p.value,"onUpdate:modelValue":t=>p.value=t},null)]),a("div",{class:"h-75 w-75 select overflow-y-auto"},[a("div",{onClick:()=>T(e.part),class:"icon default"},null),G(i.value,t=>a("div",{class:{active:j(t),icon:!0},key:t.hash,style:E(t),title:k(t),onClick:()=>te(t)},null))])])]),a(v("collocation"),{class:"mt-4 card",onExport:ae,onImport:R},null),a("div",{class:"flex flex-wrap mt-4 text-center text-sm text-color mb-12 items-center"},[a("p",{class:"m-0 w-full"},[a("a",{class:"text-blue-400",href:"//gitee.com/davatar/davatar"},[D("DAvatar\xA0Ver\xA02.0.0")])]),a("p",{class:"m-0 w-full"},[D("Copyright\xA0\xA9\xA02017-present\xA0"),a("a",{class:"text-blue-400",href:"//gitee.com/apateat"},[D("Apateat")]),D(".")]),a("p",{class:"m-0 w-full"},[D("All\xA0rights\xA0reserved.")])])])]),a(v("apt-dialog"),{class:"h-30 p-4 w-80 relative",onYes:()=>U.exports=!1,"cancel-button":!1,visible:U.exports,"onUpdate:visible":t=>U.exports=t},{default:()=>[a("div",{class:"h-8 w-full leading-8"},[D("\u5BFC\u51FA")]),K(a("div",{class:"text-red-400"},[D("\u590D\u5236\u5931\u8D25,\u8BF7\u81EA\u884C\u590D\u5236\u5230\u526A\u8D34\u677F")]),[[fe,!P.value]]),a("div",{class:" text-blue-300 break-all select-text "},[O.value])]}),a(v("apt-dialog"),{onYes:De,onCancel:()=>U.imports=!1,class:"p-4 w-80",visible:U.imports,"onUpdate:visible":t=>U.imports=t},{default:()=>[a("div",{class:"h-8 w-full leading-8"},[D("\u5BFC\u5165")]),a(v("apt-input"),{multiline:!0,modelValue:O.value,"onUpdate:modelValue":t=>O.value=t,placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7801",class:"h-auto w-full word-wrap"},null)]})])}});const lt={hair:"\u5934\u90E8",cap:"\u5E3D\u5B50",face:"\u8138\u90E8",neck:"\u80F8\u90E8",coat:"\u4E0A\u8863",skin:"\u76AE\u80A4",belt:"\u8170\u5E26",pants:"\u4E0B\u88C5",shoes:"\u978B"};function _(e){return{name:"",part:e,icon:me,images:[],code:"-1",title:lt[e]}}var re=ee(st,[["__scopeId","data-v-2d5a84c2"]]),ot=Ye({history:ze("/"),routes:[{name:"index",path:"/",component:re},{name:"character",path:"/:id",component:re}]});var he=B({name:"i-button",props:{disabled:{type:Boolean,default:!1},small:{type:Boolean,default:!1},to:{type:String,default:null}},setup(e,{slots:n}){return()=>L(e.to?Fe:"button",{to:e.to,class:{"i-button":!0,disabled:e.disabled,small:e.small}},z(n,"default"))}});const Ae=Symbol("[i-selection]active"),ye=Symbol("[i-selection]init"),ge=Symbol("[i-selection]active-class"),we={modelValue:{type:[String,Number,Object,Boolean]},activeClass:{type:String}};function be(e,n){const s=b({set(l){n.emit("update:modelValue",l==null?void 0:l.value)},get(){return o.find(l=>l.value==e.modelValue)}});Z(Ae,s),Z(ge,b(()=>e.activeClass));const o=[];return Z(ye,l=>{o.push(l),(s.value==null||s.value==null)&&(s.value=l.value)}),{active:s}}var it=B({name:"i-select",props:J($({},we),{disabled:{type:Boolean,default:!1},width:{type:Number,default:120},emptyLabel:{type:String}}),setup(e,n){const{active:s}=be(e,n),o=w(!1),l=w();Y(o,m);function u(){o.value=!o.value&&!g.value}const p=w({x:0,y:0,w:0}),d=b(()=>({left:`${p.value.x}px`,top:`${p.value.y}px`,width:`${p.value.w}px`,visibility:o.value?void 0:"hidden"}));function m(){if(l.value){const{width:I,height:h,left:A,top:x}=l.value.getBoundingClientRect();p.value={w:I,x:A,y:x+h+4}}}const g=b(()=>!!e.disabled);return pe(l,()=>o.value=!1),window.addEventListener("resize",m),window.addEventListener("scroll",m),Pe(()=>{window.removeEventListener("resize",m),window.removeEventListener("scroll",m)}),function(){function h(){var x,k;return L("div",{class:{"i-select-trigger":!0,disabled:e.disabled},ref:l},[L("span",{class:"i-select-label"},(k=(x=s==null?void 0:s.value)==null?void 0:x.key)!=null?k:e.emptyLabel),L("div",{class:"i-select-down-icon"})])}const A=()=>{const{slots:x}=n;return L(ve,{to:"body"},[L("div",{class:"i-select-dropdown",style:d.value},z(x,"default"))])};return L("div",{class:"i-select",onClick:u,style:{width:e.width==0?0:`${e.width}px`}},[h(),A()])}}});const rt={value:{type:[Object,String,Number,Boolean]},label:{type:[Function,String]}};function ct(e){const n=W(Ae),s=W(ye),o=b(()=>{var d;return e.value==((d=n==null?void 0:n.value)==null?void 0:d.value)}),l=b(()=>{let d=e.label;return typeof d=="function"&&(d=d(e.value)),d!=null?d:e.value}),u=b(()=>({key:l.value,value:e.value}));s&&s(u.value),Y(u,()=>{o.value&&n&&(n.value=u.value)});const p=W(ge);return{active:n,isActive:o,current:u,label:l,activeClass:p}}var ut=B({name:"i-option",props:rt,setup(e){const{active:n,activeClass:s,isActive:o,current:l,label:u}=ct(e);return()=>{var p;return L("span",{class:{"i-option":!0,[(p=s==null?void 0:s.value)!=null?p:"active"]:o.value},onClick(){n&&(n.value=l.value)}},u.value)}}});var dt=B({name:"i-indices",props:J($({},we),{label:{type:String}}),setup(e,n){be(e,n);const{slots:s}=n;return()=>{const o=[];return e.label&&o.push(a("span",{class:"i-indices-label",textContent:e.label},null)),o.push(z(s,"default")),a("div",{class:"i-indices"},[o])}}});var ft=B({name:"i-input",props:{modelValue:{type:String},placeholder:{type:String},multiline:{type:Boolean,default:!1}},setup(e,{emit:n}){const s=b({get(){return e.modelValue},set(l){n("update:modelValue",l)}});function o(l){const u=l.target;u&&(s.value=u.textContent)}return()=>e.multiline?a("div",{contenteditable:!0,class:"i-input",placeholder:e.placeholder,textContent:s.value,onInput:o},null):K(a("input",{class:"i-input",placeholder:e.placeholder,"onUpdate:modelValue":l=>s.value=l},null),[[$e,s.value]])}});function pt(e="body",n){return L(ve,{to:e},n)}var vt=B({name:"i-dialog",components:{IButton:he},props:{visible:{type:Boolean,default:!1},class:{type:String},yesButton:{type:[String,Boolean],default:"\u786E\u5B9A"},cancelButton:{type:[String,Boolean],default:"\u53D6\u6D88"}},emits:["close","yes","cancel","update:visible"],setup(e,{emit:n,slots:s}){const o=w();pe(o,()=>n("update:visible",!1));function l(){n("yes")}function u(){n("cancel")}function p(){if(e.yesButton||e.cancelButton){const d=[];return e.cancelButton&&d.push(a(v("i-button"),{onClick:u},{default:()=>[e.cancelButton]})),e.yesButton&&d.push(a(v("i-button"),{onClick:l},{default:()=>[e.yesButton]})),a("div",{class:"flex mt-8 justify-end"},[d])}}return()=>pt("body",[K(a("div",{class:{"bg-#00000066 w-full h-full fixed top-0 left-0 z-999 flex justify-center items-center":!0,visible:e.visible}},[a("div",{ref:o,class:["bg-white h-auto shadow-sm round-1 p-4",e.class]},[a("div",{class:"w-full"},[a("div",{class:"h-auto"},[D(" "),z(s,"default")]),p()])])]),[[fe,e.visible]])])}}),mt={install(e){e.component("apt-button",he),e.component("apt-select",it),e.component("apt-option",ut),e.component("apt-indices",dt),e.component("apt-input",ft),e.component("apt-dialog",vt)}};const F=Je(Ze);F.use(ot);F.use(qe);F.use(mt);F.mount("#app");
